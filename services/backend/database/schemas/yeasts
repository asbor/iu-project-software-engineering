from .base import BaseModel
from typing import List
import uuid
from datetime import datetime, date


class Yeaats(BaseModel):
    """
    Represents the yeasts table in the database.

    Attributes:
        id (UUID): The unique identifier for the yeasts.
        created_at (DateTime): The timestamp when the yeasts were created.
        updated_at (DateTime): The timestamp when the yeasts were last updated.
        name (str): The name of the yeasts.
        version (int): The version number of the yeasts.
        type (str): The type of the yeasts.
        form (str): The form of the yeasts.
        amount (int): The amount of the yeasts.
        amount_is_weight (bool): Whether the amount is weight.
        laboratory (str): The laboratory of the yeasts.
        product_id (str): The product ID of the yeasts.
        min_temperature (int): The minimum temperature of the yeasts.
        max_temperature (int): The maximum temperature of the yeasts.
        flocculation (str): The flocculation of the yeasts.
        attenuation (int): The attenuation of the yeasts.
        notes (str): Additional notes about the yeasts.
        best_for (str): The best for of the yeasts.
        max_reuse (int): The maximum reuse of the yeasts.
        times_cultured (int): The times cultured of the yeasts.
        add_to_secondary (bool): Whether to add to secondary.
        display_amount (str): Formatted amount of the yeasts.
        display_min_temp (str): Formatted minimum temperature of the yeasts.
        display_max_temp (str): Formatted maximum temperature of the yeasts.
        inventory (int): The inventory of the yeasts.
        culture_date (Date): The culture date of the yeasts.
        recipes_id (UUID): The unique identifier for the recipes.
        recipes (relationship): Relationship to the Recipes table.
    """

    id: uuid.UUID
    created_at: datetime
    updated_at: datetime
    name: str
    version: int
    type: str
    form: str
    amount: int
    amount_is_weight: bool
    laboratory: str
    product_id: str
    min_temperature: int
    max_temperature: int
    flocculation: str
    attenuation: int
    notes: str
    best_for: str
    max_reuse: int
    times_cultured: int
    add_to_secondary: bool
    display_amount: str
    display_min_temp: str
    display_max_temp: str
    inventory: int
    culture_date: date
    recipes_id: uuid.UUID
    recipes: List["Recipes"]

    def __init__(self, **data):
        super().__init__(**data)
        self.id = uuid.UUID(data["id"])
        self.created_at = datetime.fromisoformat(data["created_at"])
        self.updated_at = datetime.fromisoformat(data["updated_at"])
        self.culture_date = date.fromisoformat(data["culture_date"])
